<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FnOS UI 注入工具</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <main class="screen">
    <header class="top-switches">
      <article class="inject-overview" id="css-overview">
        <label class="title-row top-toggle" for="css-enable">
          <input id="css-enable" class="overview-toggle native-control" type="checkbox" checked />
          <span class="custom-checkbox" aria-hidden="true"></span>
          <h1>注入 CSS</h1>
        </label>
        <p>在&lt;/head&gt;前插入样式补丁</p>
      </article>
      <article class="inject-overview" id="js-overview">
        <label class="title-row top-toggle" for="js-enable">
          <input id="js-enable" class="overview-toggle native-control" type="checkbox" checked />
          <span class="custom-checkbox" aria-hidden="true"></span>
          <h1>注入 JavaScript</h1>
        </label>
        <p>在&lt;/body&gt;前插入脚本补丁</p>
      </article>
    </header>

    <section class="work-area">
      <article class="inject-module card">
        <h2>CSS 注入方式</h2>
        <div class="mode-select">
          <label class="mode-option hidden-option"><input class="native-control" type="radio" name="css-mode" value="none" /><span class="custom-radio" aria-hidden="true"></span><span>不处理</span></label>
          <label class="mode-option"><input class="native-control" type="radio" name="css-mode" value="file" checked /><span class="custom-radio" aria-hidden="true"></span><span>选择本地文件</span></label>
          <label class="mode-option"><input class="native-control" type="radio" name="css-mode" value="path" /><span class="custom-radio" aria-hidden="true"></span><span>选择 NAS 文件</span></label>
          <label class="mode-option"><input class="native-control" type="radio" name="css-mode" value="text" /><span class="custom-radio" aria-hidden="true"></span><span>填入代码</span></label>
        </div>

        <div class="mode-panel" data-mode="file">
          <label class="file-row css-file-row">
            <input id="css-file" type="file" accept=".css,text/css" />
            <span class="file-icon css-icon">CSS</span>
            <span class="file-name" id="css-file-hint">未选择文件</span>
            <span class="file-close">×</span>
          </label>
        </div>

        <div class="mode-panel" data-mode="path">
          <input id="css-path" type="text" placeholder="例如：/vol1/1000/Datas/mod.css" />
        </div>

        <div class="mode-panel" data-mode="text">
          <textarea id="css-text" rows="8" placeholder="粘贴或输入 CSS 内容"></textarea>
        </div>
      </article>

      <article class="inject-module card">
        <h2>JavaScript 注入方式</h2>
        <div class="mode-select">
          <label class="mode-option hidden-option"><input class="native-control" type="radio" name="js-mode" value="none" /><span class="custom-radio" aria-hidden="true"></span><span>不处理</span></label>
          <label class="mode-option"><input class="native-control" type="radio" name="js-mode" value="file" checked /><span class="custom-radio" aria-hidden="true"></span><span>选择本地文件</span></label>
          <label class="mode-option"><input class="native-control" type="radio" name="js-mode" value="path" /><span class="custom-radio" aria-hidden="true"></span><span>选择 NAS 文件</span></label>
          <label class="mode-option"><input class="native-control" type="radio" name="js-mode" value="text" /><span class="custom-radio" aria-hidden="true"></span><span>填入代码</span></label>
        </div>

        <div class="mode-panel" data-mode="file">
          <label class="file-row js-file-row">
            <input id="js-file" type="file" accept=".js,application/javascript,text/javascript" />
            <span class="file-icon js-icon">JS</span>
            <span class="file-name" id="js-file-hint">未选择文件</span>
            <span class="file-close">×</span>
          </label>
        </div>

        <div class="mode-panel" data-mode="path">
          <input id="js-path" type="text" placeholder="例如：/vol1/1000/Datas/mod.js" />
        </div>

        <div class="mode-panel" data-mode="text">
          <textarea id="js-text" rows="8" placeholder="粘贴或输入 JS 内容"></textarea>
        </div>
      </article>
    </section>

    <footer class="bottom-bar">
      <div class="status-pills">
        <div class="status-pill">● ROOT权限：已获取</div>
        <div class="status-pill">● 备份：<span id="status-backup">检查中…</span></div>
        <div class="status-pill">● 目标文件：<span id="status-index">检查中…</span></div>
      </div>

      <div class="action-buttons">
        <button id="restore-btn" class="restore-btn" type="button">↻ 还原</button>
        <button id="inject-btn" class="inject-btn" type="button">↪ 立即注入</button>
      </div>
    </footer>

    <div id="message" class="message"></div>

    <div class="meta-hidden" aria-hidden="true">
      <span id="status-index-meta">/usr/trim/www/index.html</span>
      <span id="status-backup-meta">/usr/cqshbak/index.html.original</span>
      <input id="inject-delay" type="hidden" value="5" />
    </div>
  </main>

  <script src="./app.js" defer></script>
</body>
</html>
